{% extends "base.html" %}
{% load i18n staticfiles wger_extras %}

{#       #}
{# Title #}
{#       #}
{% block title %}{% trans "Overview" %}{% endblock %}

{#        #}
{# Header #}
{#        #}
{% block header %}
<script src="{% static 'js/fitbitWeight.js' %}"></script>
{% endblock %}



{#         #}
{# Content #}
{#         #}
{% block content %}
<div id="current-username" data-current-username="{{ owner_user.username }}"></div>

<div id="fitbit_weight_diagram"></div>


<div class="btn-group modify-time-period-controls pull-left" role="group" aria-label="..." style="padding-bottom: 1em;">
    <h2>{% trans "FitBit Weight Data" %} </h2>
</div>

{% if not fitbit_weight %}
<p>
    {% trans "There are no Fitbit weight entries." %}
</p>
{% endif %}


{% if is_owner %}
{% if fitbit_weight %}
<table class="table">
    <tr>
        <th>{% trans 'Date' %}</th>
        <th>{% trans 'Weight' %}</th>
        <th>{% trans 'Change' context "Noun, not verb" %}</th>
        <th>{% trans 'Days' %}</th>
    </tr>
    {% for i in fitbit_weight %}
    <tr>
        <td>{{ i.date}} <span class="label label-primary">Fit bit</span></td>
        <td>{{ i.weight }}</td> 
        <!-- weight diff and day diff below -->
        <td>
            {% if entry_detail.1 > 0 %}
                +
            {% endif %}
            {% if entry_detail.1 %}
                {{ entry_detail.1 }}
            {% else %}
                -/-
            {% endif %}
        </td>
        <td>
            {% if entry_detail.2 %}
                {{ entry_detail.2 }}
            {% else %}
                -/-
            {% endif %}
        </td>
    </tr>
    {% endfor %}
    {% endif %}

</table>
{% endif %}

{% endblock %}


{#          #}
{# Side bar #}
{#          #}
{% block sidebar %}
{% endblock %}



{#         #}
{# Options #}
{#         #}
{% block options %}
{% if is_owner %}
<div class="btn-group">
    <button type="button" class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="{% fa_class 'cog' %}"></span>
        {% trans "Options" %}
    </button>
    <ul class="dropdown-menu">
        <li>
            <a href="{% url 'weight:export-csv' %}" target="_blank">
                <span class="{% fa_class 'download' %}"></span>
                {% trans "Export as CSV" %}
            </a>
        </li>
        <li>
            <a href="{% url 'weight:import-csv' %}" {% auto_link_css flavour %}>
                <span class="{% fa_class 'upload' %}"></span>
                {% trans "Import from spreadsheet" %}
            </a>
        </li>
    </ul>
</div>
<!-- <a href="{% url 'weight:add' %}" class="btn btn-success btn-sm wger-modal-dialog">
    {% trans "Add" %}
</a> -->
{% endif %}
{% endblock %}
